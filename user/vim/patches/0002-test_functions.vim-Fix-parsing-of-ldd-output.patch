From 66e6de1fff6d2ac81a136ebb38a32681c228954f Mon Sep 17 00:00:00 2001
From: Subhaditya Nath <sn03.general@gmail.com>
Date: Sat, 15 Jun 2024 02:04:19 +0530
Subject: [PATCH 2/4] test_functions.vim: Fix parsing of ldd output

---
 src/testdir/test_functions.vim | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/testdir/test_functions.vim b/src/testdir/test_functions.vim
index acdb954..2cbbc6b 100644
--- a/src/testdir/test_functions.vim
+++ b/src/testdir/test_functions.vim
@@ -2581,7 +2581,7 @@ func Test_libcall_libcallnr()
   elseif has('mac')
     let libc = 'libSystem.B.dylib'
   elseif executable('ldd')
-    let libc = matchstr(split(system('ldd ' . GetVimProg())), '/libc\.so\>')
+    let libc = split(matchstr(systemlist('ldd /bin/ls'), '\<libc\.so\>'))[2]
   endif
   if get(l:, 'libc', '') ==# ''
     " On Unix, libc.so can be in various places.
-- 
2.45.2

